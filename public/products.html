<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Список товаров</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="/js/scripts.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <header class="main-header">
      <nav>
        <ul>
          <li><a href="/index.html"><i class="fas fa-plus"></i> Добавить товар</a></li>
          <li><a href="/products.html"><i class="fas fa-list"></i> Список товаров</a></li>
          <li><a href="/scan.html"><i class="fas fa-camera"></i> Сканировать штрихкод</a></li>
          <li><a href="/boxes.html"><i class="fas fa-box-open"></i> Управление коробками</a></li>
        </ul>
      </nav>
    </header>
    <div class="main-content">
      <h1>Список товаров</h1>
      <div id="productsListContainer">
        <table id="productsList">
          <thead>
            <tr>
              <th><i class="fas fa-id-badge"></i> ID</th>
              <th><i class="fas fa-image"></i> Фото</th>
              <th><i class="fas fa-tag"></i> Название</th>
              <th><i class="fas fa-cubes"></i> Количество</th>
              <th><i class="fas fa-ruble-sign"></i> Цена</th>
              <th><i class="fas fa-folder"></i> Категория</th>
              <th><i class="fas fa-barcode"></i> Штрихкод</th>
              <th><i class="fas fa-box-open"></i> Коробки</th>
              <th><i class="fas fa-tools"></i> Действия</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div id="listError"></div>

      <!-- Модальное окно для редактирования -->
      <div id="editModal" class="modal" style="display: none">
        <div class="modal-content">
          <span class="close">×</span>
          <h2>Редактировать товар</h2>
          <form id="editProductForm" enctype="multipart/form-data">
            <label for="editName">Название:</label><br />
            <input type="text" id="editName" name="name" required /><br />
            <label for="editQuantity">Количество:</label><br />
            <input type="number" id="editQuantity" name="quantity" required /><br />
            <label for="editDescription">Описание:</label><br />
            <textarea id="editDescription" name="description"></textarea><br />
            <label for="editPrice">Цена:</label><br />
            <input type="number" step="0.01" id="editPrice" name="price" /><br />
            <label for="editCategory">Категория:</label><br />
            <input type="text" id="editCategory" name="category" /><br />
            <label>Текущее фото:</label><br />
            <img id="currentPhoto" style="max-width: 100px; max-height: 100px; display: none" /><br />
            <label for="editPhotos">Новые фотографии (до 10):</label><br />
            <input type="file" id="editPhotos" name="photos" accept="image/*" multiple /><br />
            <button type="submit"><i class="fas fa-save"></i> Сохранить</button>
          </form>
          <div id="editResult" style="display: none"></div>
        </div>
      </div>
    </div>
    <footer>
      <p>© 2025 Управление складом</p>
    </footer>
  </body>
</html>